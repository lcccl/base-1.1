"use strict";!function(e,t){t.extend(t.fn.dataTable.defaults,{language:{sProcessing:"<div class='dt-processing'>数据正在加载中...</div>",sLengthMenu:"显示 _MENU_ 条",sZeroRecords:"没有匹配结果",sInfo:"第 _PAGE_ 页，共 _TOTAL_ 条记录",sInfoEmpty:"无记录",sInfoFiltered:"(由 _MAX_ 项结果过滤)",sInfoPostFix:"",sSearch:"搜索:",sUrl:"",sEmptyTable:"查询数据为空",sLoadingRecords:"载入中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"上页",sNext:"下页",sLast:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}},dom:'rt<"bottom"lip>',iDisplayLength:10,lengthMenu:[[5,10,15,20,50],[5,10,15,20,50]],processing:!0,searching:!1,ordering:!1,pagingType:"full_numbers"}),t.fn.dataTables=function(e){if(e){var n={};e=o(e,n),this.data("extContext",n),this.each(function(){t(this).data("extContext",n)}),a(this,e,n)}var r=this.dataTable(e).api();return s(r,this.data("extContext")),r};var n=["queryType","queryUrl","queryData","columnFields"],o=function(e,o){var s={};for(var a in e){var i=e[a];-1!=t.inArray(a,n)?o[a]=i:s[a]=i}if(!s.columns&&e.columnFields&&(s.columns=[],t.each(e.columnFields,function(e,t){"string"==typeof t?s.columns.push({data:t}):"object"==typeof t&&s.columns.push(t)})),t.each(s.columns,function(e,t){t.defaultContent=void 0==t.defaultContent?"":t.defaultContent}),e.indexColumn||e.selectionType){var c="dtc_"+parseInt(1e8*Math.random());s.columns.splice(0,0,{data:c,render:function(t,n,o,s){var a="<label class='"+(e.selectionType?e.selectionType:"")+"'>";return"checkbox"==e.selectionType?a+="<input type='checkbox' name='chk_"+c+"_"+s.row+"' />":"radio"==e.selectionType&&(a+="<input type='radio' name='rd_"+c+"' />"),e.indexColumn&&(a+=s.row+1),a+="</label>"}})}return s.serverSide&&(s.ajax=function(e,n,s){var a=o.queryType,i=o.queryUrl,c=o.queryParams,l=function(t){n({draw:e.draw,recordsTotal:t?t.totalCount:0,recordsFiltered:t?t.totalCount:0,data:t?t.resultList:[]})};if(i){var u=t.extend({pageSize:e.length,pageNo:e.start/e.length+1},c);t.ajax({type:a,url:i,data:u,cache:!1,dataType:"json",success:function(e){0==e.code?l(e.data):(l(),r(e.message))},error:function(e,t,n){l(),r(e.responseText||n||t)}})}else l()}),s},s=function(e,n){t.extend(e,{extContext:n,reload:function(e){var t=this.extContext;e&&(t.queryType=e.type||t.queryType,t.queryUrl=e.url||t.queryUrl,t.queryParams=e.data||t.queryParams),this.draw()}})},a=function(e,n,o){t("tbody",e).on("click","tr",function(){t(this).addClass("selected").siblings().removeClass("selected")}),t("th .selectAll input[type='checkbox']",e).on("change",function(){t("td .checkbox input[type='checkbox']",e).prop("checked",t(this).prop("checked"))})},r=function(t){e.MsgBox?e.MsgBox.error(t):window.console?console.log(t):alert(t)}}(window,jQuery);