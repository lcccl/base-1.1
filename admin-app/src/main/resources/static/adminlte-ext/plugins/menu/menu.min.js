"use strict";!function(t){var e=function(e){var i=(e=t.extend({trigger:"mouseright"},e)).trigger;"mouseleft"!=i&&"mouseright"!=i||(i="mouseup"),"mouseright"==e.trigger&&this.on("contextmenu",function(t){t.preventDefault()}),this.on(i,function(t){"mouseleft"==e.trigger&&1!=t.which||"mouseright"==e.trigger&&3!=t.which||(t.stopPropagation(),e.x=t.clientX,e.y=t.clientY,new n(e))})},n=function(e){e=t.extend({},e),this.multi=e.multi,this.init(e),this.multi||(n.single&&n.single.close(),n.single=this),this.show()};n.prototype={constructor:n,init:function(e){var n=this,i=e.theme,o=e.menus,s=t("<div class='ui-context-menu'><ul></ul></div>"),u=t("ul",s);t.each(o,function(e,i){var o="<li>"+(i.render?i.render():i.text)+"</li>",l=t(o);l.on("click",function(t){t.stopPropagation(),i.handler&&i.handler.call(n,s,l,t),n.close()}),u.append(l)}),i&&s.addClass(i),s.css({left:e.x,top:e.y}),t(document.body).append(s),n.el=s},show:function(){var t=this.el;setTimeout(function(){t.fadeIn(100)},50)},close:function(){this.el.hide(),this.el.remove(),this.multi||(n.single=null)}},t(document.body).on("click",function(e){if(n.single){t(e.target).parents(".ui-context-menu")[0]!=n.single.el[0]&&n.single.close()}}),e.Menu=n,t.fn.contextMenu=e}(jQuery);